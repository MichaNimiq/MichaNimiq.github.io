<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nimiq Hub Integration</title>
    <!-- Include the Nimiq Hub library -->
    <script src="https://hub.nimiq.com/lib/v2.0.0/hub.js"></script>
</head>
<body>

<button onclick="createAccount()">Create Account</button>
<button onclick="sendNim()">Send NIM</button>
<button onclick="receiveNim()">Receive NIM</button>

<script>
    // Initialize the Nimiq Hub
    const hub = new HubApi('https://hub.nimiq.com');

    // Create a new account
    async function createAccount() {
        try {
            const result = await hub.create();
            console.log('Account created:', result);
        } catch (error) {
            console.error('Error creating account:', error);
        }
    }

    // Send NIM
    async function sendNim() {
        const recipientAddress = prompt('Enter recipient address:');
        const amount = parseFloat(prompt('Enter amount to send:'));
        
        if (!recipientAddress || isNaN(amount)) {
            alert('Invalid input');
            return;
        }

        try {
            const result = await hub.checkout({
                appName: 'YourAppName', // Replace with your app's name
                recipient: recipientAddress,
                value: amount * 1e5,  // Convert NIM to Luna
            });
            console.log('Transaction successful:', result);
        } catch (error) {
            console.error('Error sending NIM:', error);
        }
    }

    // Receive NIM
    async function receiveNim() {
        try {
            const result = await hub.receive({
                appName: 'YourAppName', // Replace with your app's name
            });
            console.log('Receive address:', result.address);
        } catch (error) {
            console.error('Error receiving NIM:', error);
        }
    }
</script>

</body>
</html>
